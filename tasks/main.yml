---
# Install and zsh package, set up zshrc.

- include: RedHat.yml
  when: ansible_os_family == 'RedHat'
  tags:
    - packages

- include: Debian.yml
  when: ansible_os_family == 'Debian'
  tags:
    - packages

- include: Darwin.yml
  when: ansible_os_family == 'Darwin'

# Get vars
- name: Include OS variables.
  include_vars: "{{ ansible_os_family }}.yml"
  
# Run setup
- name: Running user playbook
  include: users.yml
  when: __users__ is defined

- name: Running skel playbook
  include: skel.yml
  when: __skel__ is defined
